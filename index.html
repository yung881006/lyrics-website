<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>歌詞網站</title>
  <style>
    :root {
      --lyrics-font-size: 16px;
      --bg-light: #fff;
      --text-light: #000;
      --bg-dark: #222;
      --text-dark: #ddd;
    }
    [data-theme="light"] {
      background-color: var(--bg-light);
      color: var(--text-light);
    }
    [data-theme="dark"] {
      background-color: var(--bg-dark);
      color: var(--text-dark);
    }

    body {
      font-family: "Microsoft JhengHei", sans-serif;
      margin: 0;
      font-size: var(--lyrics-font-size);
      transition: background-color 0.3s, color 0.3s;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    #mainLayout {
      display: flex;
      flex-direction: row;
      width: 100%;
      height: 100%;
    }

    #leftPanel {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      padding: 1rem;
      width: 200px;
      min-width: 180px;
    }

    .controls button {
      display: block;
      margin: 0.25rem 0;
    }

    #rightPanel {
      flex-grow: 1;
      padding: 1rem;
    }

    #pageHeader {
      margin-bottom: 1rem;
    }

    input[type="text"] {
      padding: 0.5rem;
      font-size: 1rem;
      width: 60%;
      max-width: 400px;
    }

    button {
      padding: 0.5rem 1rem;
      margin-left: 0.5rem;
      font-size: 1rem;
      cursor: pointer;
    }

    ul#lyricsList {
      list-style: none;
      padding: 0;
    }

    ul#lyricsList li {
      padding: 0.5rem 0;
      border-bottom: 1px solid #ccc;
      cursor: pointer;
    }

    ul#lyricsList li:hover {
      background-color: #eee;
    }

    #lyricsDetails {
      white-space: pre-wrap;
      line-height: 1.5;
    }

    .languageButtons {
      display: none;
    }
  </style>
</head>
<body>
  <div id="mainLayout">
    <!-- 左側控制區 -->
    <div id="leftPanel">
      <button id="themeToggle" aria-label="切換深色模式">🌙</button>
      <div class="controls" aria-label="字體大小控制">
        <label>字體大小：</label>
        <button onclick="setFontSize('small')">小</button>
        <button onclick="setFontSize('medium')">中</button>
        <button onclick="setFontSize('large')">大</button>
        <button onclick="setFontSize('xlarge')">特大</button>
      </div>
    </div>

    <!-- 右側主內容區 -->
    <div id="rightPanel">
      <div id="pageHeader">
        <h1>歌詞網站</h1>
        <input type="text" id="search" placeholder="搜索歌詞、歌手或標題" oninput="debounceSearch()" aria-label="搜索歌詞、歌手或標題" />
        <button onclick="searchLyrics()">查詢</button>
      </div>

      <ul id="lyricsList"></ul>

      <div id="lyricsDetails" style="display:none;">
        <h2 id="songTitle"></h2>
        <pre id="fullLyrics"></pre>
        <button onclick="goBack()">返回</button>
      </div>
    </div>
  </div>

  <script>
    const lyricsData = [
      {
        "title": "もしももう一度恋をするのなら",
        "artist": "Ai Higuchi",
        "lyrics_ja": [
          "どっちでもいいなんて",
          "強がりだよ",
          "ほんとの気持ち",
          "わかるでしょ",
          "曖昧にしてきたのは",
          "両成敗だよ",
          "謝らないし",
          "謝らないで",
          "長く長く同じものを",
          "吸って吐いて",
          "そりゃ似てきちゃうね",
          "最後の恋にさせて",
          "いつもそばにいて",
          "つまらないくだらない",
          "日々を愛して",
          "もしももう一度",
          "恋をするのなら",
          "あなたと出会って",
          "同じ道を歩きたい",
          "ハッピーエンドの向こう側へ"
        ],
        "lyrics_romaji": [
          "Docchi demo ii nante",
          "Tsuyogari da yo",
          "Honto no kimochi",
          "Wakaru desho",
          "Aimai ni shite kita no wa",
          "Ryouseibai da yo",
          "Ayamaranai shi",
          "Ayamaranai de",
          "Nagaku nagaku onaji mono wo",
          "Sutte haite",
          "Sorya nite kichau ne",
          "Saigo no koi ni sasete",
          "Itsumo soba ni ite",
          "Tsumaranai kudaranai",
          "Hibi wo aishite",
          "Moshimo mou ichido",
          "Koi wo suru no nara",
          "Anata to deatte",
          "Onaji michi wo arukitai",
          "Happii endo no mukougawa e"
        ],
        "lyrics_zh": [
          "這樣也沒關係啦",
          "逞強而已",
          "真正的心情",
          "你知道的吧",
          "一直含糊其辭",
          "雙方都有錯",
          "不道歉",
          "請不要道歉",
          "長久地呼吸著相同的東西",
          "吸氣吐氣",
          "當然會變得相似",
          "讓這成為最後的戀愛",
          "總是待在身旁",
          "無聊又無意義",
          "珍惜每一天",
          "如果能再一次",
          "戀愛的話",
          "想要遇見你",
          "想走同一條路",
          "往幸福結局的另一邊"
        ]
      },
      {
        "title": "ペアリング",
        "artist": "音田雅則",
        "lyrics_ja": [
          "今日は君と出会ってから",
          "3と4ヶ月が経って",
          "変わらず手紙が届くのは",
          "永遠（とわ）に続（つづ）いてくだろうね",
          "ペアリング片手同士つけて",
          "手繋いで坂道登って",
          "休日ごろごろしながらも",
          "何気ない日々を過ごして行くんだ",
          "好きさ",
          "生まれ変わっても",
          "きっと君の元へと",
          "迎えに行くだろう",
          "世界中にこんな素敵な人は見当たらないなぁ",
          "カメラでワンショットツーショットなんて",
          "愛しくてニヤけて困っちゃうな",
          "君の笑顔をずっと眺めてたら",
          "恥ずかしいな",
          "目と目合わせてほらまた",
          "君に恋してる",
          "バイバイする時は必ず",
          "大きく手を振り合う僕ら",
          "不意に抱きついてくる君",
          "溢れる幸せの毎日",
          "きっとこの先何年も",
          "共に歩んでくだろうね",
          "だからこその一歩ずつを",
          "大切にしていこうね",
          "大好きさ",
          "これ以上の幸せを",
          "言葉に乗せて",
          "伝えて行くから",
          "Only girl",
          "君以上の人なんてどこにもいないよ",
          "例え喧嘩したって",
          "離れかけたって",
          "運命の人に変わりはないから",
          "「この素敵な人が僕の大切な恋人だ」と",
          "世界中に自慢して",
          "日々に花を咲かす",
          "100年後も",
          "君を愛している自信しかないな",
          "ねぇ",
          "いつも通り",
          "何気ない会話だって",
          "一生の宝物",
          "やがて大人になって",
          "手が届かなくなっても",
          "気付けば隣には",
          "あの日の僕らが居るだろう",
          "いつか未来で会えたら",
          "君に伝えるよ",
          "また好きって",
          "強く言うからね"
        ],
        "lyrics_romaji": [
          "Kyou wa kimi to deatte kara",
          "San to yon kagetsu ga tatte",
          "Kawarazu tegami ga todoku no wa",
          "Towa ni tsuzuite darou ne",
          "Pea ringu katate doushi tsukete",
          "Te tsunaide sakamichi nobotte",
          "Kyuujitsu gorogoro shinagara mo",
          "Nanigenai hibi wo sugoshite ikun da",
          "Suki sa",
          "Umarekawatte mo",
          "Kitto kimi no moto e to",
          "Mukae ni iku darou",
          "Sekaijuu ni konna suteki na hito wa mitomaranai naa",
          "Kamera de wanshotto tsuushotto nante",
          "Itoshikute niyakete komacchau na",
          "Kimi no egao wo zutto nagametetara",
          "Hazukashii na",
          "Me to me awasete hora mata",
          "Kimi ni koishiteru",
          "Baibai suru toki wa kanarazu",
          "Ookiku te wo furiau bokura",
          "Fui ni dakitsuite kuru kimi",
          "Afureru shiawase no mainichi",
          "Kitto kono saki nannen mo",
          "Tomo ni ayunde darou ne",
          "Dakara koso no ippo zutsu wo",
          "Taisetsu ni shite ikou ne",
          "Daisuki sa",
          "Kore ijou no shiawase wo",
          "Kotoba ni nosete",
          "Tsutaete iku kara",
          "Only girl",
          "Kimi ijou no hito nante doko ni mo inai yo",
          "Tatoe kenka shitatte",
          "Hanare kaketatte",
          "Unmei no hito ni kawari wa nai kara",
          "Kono suteki na hito ga boku no taisetsu na koibito da to",
          "Sekaijuu ni jiman shite",
          "Hibi ni hana wo sakasu",
          "Hyakunen go mo",
          "Kimi wo aishite iru jishin shika nai na",
          "Nee",
          "Itsumo doori",
          "Nanigenai kaiwa datte",
          "Isshou no takaramono",
          "Yagate otona ni natte",
          "Te ga todokanaku natte mo",
          "Kidzukeba tonari ni wa",
          "Ano hi no bokura ga iru darou",
          "Itsuka mirai de aetara",
          "Kimi ni tsutaeru yo",
          "Mata suki tte",
          "Tsuyoku iu kara ne"
        ],
        "lyrics_zh": [
          "今天是遇見你的日子",
          "三四個月過去了",
          "不變的是收到你的信",
          "這大概會永遠持續下去吧",
          "戴著一樣的對戒",
          "手牽手走上斜坡",
          "假日裡雖然懶散",
          "也度過平凡的日子",
          "喜歡你",
          "即使重生",
          "一定會去找你",
          "迎接你",
          "世界上找不到這麼棒的人",
          "拍照時的一張一張",
          "讓人忍不住微笑",
          "看著你的笑容",
          "害羞了",
          "再一次眼神交會",
          "又愛上你",
          "分別時一定會",
          "揮手再見",
          "你突然擁抱我",
          "每天充滿幸福",
          "這之後好多年",
          "我們會一直一起走下去",
          "一步步小心珍惜",
          "我真的很喜歡你",
          "會把這份幸福",
          "用言語傳達給你",
          "唯一的女孩",
          "沒有人比你更重要",
          "就算吵架",
          "就算快要分開",
          "也不會改變我們是命中註定",
          "我會向全世界炫耀說",
          "「這麼棒的人是我珍愛的戀人」",
          "讓我們在日子中綻放花朵",
          "一百年後",
          "我只會越來越愛你",
          "嘿",
          "就像往常一樣",
          "無意間的對話",
          "是一生的寶藏",
          "即使漸漸長大",
          "即使手再也碰不到",
          "回頭看",
          "我們依然在一起",
          "如果有一天在未來相遇",
          "我會告訴你",
          "我還是很愛你",
          "我會很堅定地說"
        ]
      }
      {
  "title": "オレンジのままで",
  "artist": "Liella!",
  "lyrics_ja": [
    "今の気持ち残したくて キミの手に書いた",
    "「ダイスキだよ」って 細めのペンで",
    "くすぐったそうな顔が なんか可笑しくって",
    "クルクルと落書き 描き足してく",
    "ひぐらしの声 夏がもうすぐ終わる",
    "ひんやりとしても胸は こんなに熱いままだ",
    "いつだってずっとキミと 笑っていたい",
    "踊っていたい 時間が足りない",
    "ふざけてかけたサングラス",
    "夕焼け雲が映った 帰ろっか！",
    "私たち前より似てきた気がしてるんだ",
    "好き嫌いじゃなくて空気って言うか",
    "混ざり合ったのかなぁ",
    "そうやってすぐ傍に キミがいる",
    "輝いてる 大切なんだ",
    "伝えたときの涙目",
    "夕陽のせいにしておいてよ 今日は",
    "眩しい未来が もし待ってても",
    "今が一番愛おしい",
    "燃えているようなオレンジを",
    "キミと もっと もっと 見つめてたいよ",
    "いつだってずっとみんなで 笑っていたい",
    "踊っていたい また明日会おう",
    "ふざけてかけたサングラス",
    "机の中しまって 帰ろうよ！",
    "なんでもない日々も 一緒にいるだけで (La, la-la-la-la-la)",
    "特別な時間に なるんじゃないかな (La, la-la-la-la-la)",
    "キミと過ごす日々は どこまでも続くよ (La, la-la-la-la-la)",
    "明日も明後日も その先にも (La, la-la-la-la-la)",
    "私たちの日々は ずっと終わらないよ (La, la-la-la-la-la)",
    "続け！と心から願う限り！(La, la-la-la-la-la)"
  ],
  "lyrics_romaji": [
    "Ima no kimochi nokoshitakute Kimi no te ni kaita",
    "“Daisuki da yo” tte hosome no pen de",
    "Kusuguttasou na kao ga nanka okashikutte",
    "Kurukuru to rakugaki kakitashiteku",
    "Higurashi no koe natsu ga mousugu owaru",
    "Hinyari to shite mo mune wa konna ni atsui mama da",
    "Itsudatte zutto Kimi to waratte itai",
    "Odotte itai jikan ga tarinai",
    "Fuzakete kaketa sangurasu",
    "Yuuyake kumo ga utsutta kaerokka!",
    "Watashitachi mae yori nite kita ki ga shiterun da",
    "Suki kirai janakute kuuki tte iuka",
    "Mazariatta no kanaa",
    "Sou yatte sugu soba ni Kimi ga iru",
    "Kagayaiteru taisetsu nan da",
    "Tsutaeta toki no namida me",
    "Yuuyuu no sei ni shite oite yo kyou wa",
    "Mabushii mirai ga moshi mattetemo",
    "Ima ga ichiban itooshii",
    "Moete iru you na orenji wo",
    "Kimi to motto motto mitsumetai yo",
    "Itsudatte zutto minna de waratte itai",
    "Odotte itai mata ashita aou",
    "Fuzakete kaketa sangurasu",
    "Tsukue no naka shimatte kaerou yo!",
    "Nandemonai hibi mo issho ni iru dake de (La, la-la-la-la-la)",
    "Tokubetsu na jikan ni narun janai kana (La, la-la-la-la-la)",
    "Kimi to sugosu hibi wa doko made mo tsuzuku yo (La, la-la-la-la-la)",
    "Ashita mo asatte mo sono saki ni mo (La, la-la-la-la-la)",
    "Watashitachi no hibi wa zutto owaranai yo (La, la-la-la-la-la)",
    "Tsuzuke! to kokoro kara negau kagiri! (La, la-la-la-la-la)"
  ],
  "lyrics_zh": [
    "想要留下現在的心情 寫在你的手上",
    "用細細的筆 寫著「我很喜歡你」",
    "你那害羞的表情 怎麼看都覺得可愛",
    "一邊轉圈一邊塗鴉 不斷添上去",
    "夕蟬的聲音 夏天快要結束了",
    "雖然有點涼 但心還是這麼熱情不減",
    "我一直都想和你 笑著度過",
    "想跳舞 時間總是不夠用",
    "戴上惡作劇的太陽眼鏡",
    "映出夕陽雲彩 我們回家吧！",
    "我覺得我們比以前更像彼此了",
    "不是喜歡或不喜歡 是說像空氣一樣",
    "是不是已經融合了呢",
    "你就這樣一直在我身邊",
    "閃閃發亮 真的很重要",
    "告訴你的時候眼眶泛淚",
    "今天就怪夕陽吧",
    "即使耀眼的未來在等待",
    "現在是最珍貴的時刻",
    "像火焰般燃燒的橘色",
    "想和你 更多更多地凝視",
    "我一直想和大家 笑著相聚",
    "想跳舞 明天再見吧",
    "戴著惡作劇的太陽眼鏡",
    "把書桌裡的東西收好 一起回家吧！",
    "平凡的日子 只要在一起 (La, la-la-la-la-la)",
    "也會變成特別的時光 (La, la-la-la-la-la)",
    "和你度過的日子 永遠延續 (La, la-la-la-la-la)",
    "明天後天 甚至未來 (La, la-la-la-la-la)",
    "我們的日子 永遠不會結束 (La, la-la-la-la-la)",
    "只要從心裡祈願著繼續！(La, la-la-la-la-la)"
  ]
}

    ];

    const lyricsList = document.getElementById("lyricsList");
    const lyricsDetails = document.getElementById("lyricsDetails");
    const pageHeader = document.getElementById("pageHeader");
    const songTitleElem = document.getElementById("songTitle");
    const fullLyricsElem = document.getElementById("fullLyrics");
    const themeToggleBtn = document.getElementById("themeToggle");
    let currentSong = null;

    function listSongs() {
      lyricsList.innerHTML = "";
      lyricsData.forEach((song, index) => {
        const li = document.createElement("li");
        li.tabIndex = 0;
        li.textContent = `${song.title} - ${song.artist}`;
        li.onclick = () => selectSong(index);
        li.onkeypress = (e) => { if(e.key === 'Enter') selectSong(index); };
        lyricsList.appendChild(li);
      });
    }

    function selectSong(index) {
      currentSong = lyricsData[index];
      pageHeader.style.display = "none";
      lyricsList.style.display = "none";
      lyricsDetails.style.display = "block";
      songTitleElem.textContent = `${currentSong.title} - ${currentSong.artist}`;

      const ja = currentSong.lyrics_ja || [];
      const romaji = currentSong.lyrics_romaji || [];
      const zh = currentSong.lyrics_zh || [];

      const maxLines = Math.max(ja.length, romaji.length, zh.length);
      let combinedLyrics = "";

      for (let i = 0; i < maxLines; i++) {
        combinedLyrics += (ja[i] || "") + "\n";
        combinedLyrics += (romaji[i] || "") + "\n";
        combinedLyrics += (zh[i] || "") + "\n\n";
      }

      fullLyricsElem.textContent = combinedLyrics;
      history.pushState({ index }, "", `#${encodeURIComponent(currentSong.title)}`);
    }

    function goBack() {
      currentSong = null;
      lyricsDetails.style.display = "none";
      pageHeader.style.display = "block";
      lyricsList.style.display = "block";
      history.pushState({}, "", window.location.pathname);
    }

    function setFontSize(size) {
      let fontSize;
      switch(size) {
        case 'small': fontSize = '14px'; break;
        case 'medium': fontSize = '16px'; break;
        case 'large': fontSize = '18px'; break;
        case 'xlarge': fontSize = '20px'; break;
        default: fontSize = '16px';
      }
      document.documentElement.style.setProperty('--lyrics-font-size', fontSize);
    }

    function searchLyrics() {
      const query = document.getElementById("search").value.trim().toLowerCase();
      if(!query) {
        listSongs();
        return;
      }
      const filtered = lyricsData.filter(song => {
        return song.title.toLowerCase().includes(query) ||
               song.artist.toLowerCase().includes(query) ||
               (song.lyrics_zh.join(' ').toLowerCase().includes(query)) ||
               (song.lyrics_ja.join(' ').toLowerCase().includes(query)) ||
               (song.lyrics_romaji.join(' ').toLowerCase().includes(query));
      });
      lyricsList.innerHTML = "";
      if(filtered.length === 0) {
        lyricsList.textContent = "找不到相關歌詞";
        return;
      }
      filtered.forEach((song) => {
        const li = document.createElement("li");
        li.tabIndex = 0;
        li.textContent = `${song.title} - ${song.artist}`;
        li.onclick = () => selectSong(lyricsData.indexOf(song));
        li.onkeypress = (e) => { if(e.key === 'Enter') selectSong(lyricsData.indexOf(song)); };
        lyricsList.appendChild(li);
      });
    }

    function toggleTheme() {
      const currentTheme = document.documentElement.getAttribute("data-theme") || "light";
      const newTheme = currentTheme === "light" ? "dark" : "light";
      document.documentElement.setAttribute("data-theme", newTheme);
      themeToggleBtn.textContent = newTheme === "light" ? "🌙" : "☀️";
    }
    themeToggleBtn.onclick = toggleTheme;

    window.onload = () => {
      document.documentElement.setAttribute("data-theme", "light");
      listSongs();
      if(location.hash) {
        const title = decodeURIComponent(location.hash.slice(1));
        const idx = lyricsData.findIndex(s => s.title === title);
        if(idx !== -1) selectSong(idx);
      }
    };

    window.addEventListener('popstate', (event) => {
      if (event.state && typeof event.state.index === 'number') {
        selectSong(event.state.index);
      } else {
        goBack();
      }
    });
  </script>
</body>
</html>

