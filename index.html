<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ­Œè©ç¶²ç«™</title>
  <style>
    :root {
      --lyrics-font-size: 16px;
      --bg-light: #fff;
      --text-light: #000;
      --bg-dark: #222;
      --text-dark: #ddd;
    }
    [data-theme="light"] {
      background-color: var(--bg-light);
      color: var(--text-light);
    }
    [data-theme="dark"] {
      background-color: var(--bg-dark);
      color: var(--text-dark);
    }
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      margin: 1rem;
      font-size: var(--lyrics-font-size);
      transition: background-color 0.3s, color 0.3s;
    }
    #pageHeader {
      margin-bottom: 1rem;
    }
    input[type="text"] {
      padding: 0.5rem;
      font-size: 1rem;
      width: 60%;
      max-width: 400px;
    }
    button {
      padding: 0.5rem 1rem;
      margin-left: 0.5rem;
      font-size: 1rem;
      cursor: pointer;
    }
    ul#lyricsList {
      list-style: none;
      padding: 0;
    }
    ul#lyricsList li {
      padding: 0.5rem 0;
      border-bottom: 1px solid #ccc;
      cursor: pointer;
    }
    ul#lyricsList li:hover {
      background-color: #eee;
    }
    #lyricsDetails {
      white-space: pre-wrap;
      line-height: 1.5;
    }
    .controls {
      margin-bottom: 1rem;
    }
    .languageButtons button {
      margin-right: 0.5rem;
    }
  </style>
</head>
<body>
  <button id="themeToggle" aria-label="åˆ‡æ›æ·±è‰²æ¨¡å¼">ğŸŒ™</button>

  <div id="pageHeader">
    <h1>æ­Œè©ç¶²ç«™</h1>
    <input type="text" id="search" placeholder="æœç´¢æ­Œè©ã€æ­Œæ‰‹æˆ–æ¨™é¡Œ" oninput="debounceSearch()" aria-label="æœç´¢æ­Œè©ã€æ­Œæ‰‹æˆ–æ¨™é¡Œ" />
    <button onclick="searchLyrics()">æŸ¥è©¢</button>
  </div>

  <ul id="lyricsList"></ul>

  <div id="lyricsDetails" style="display:none;">
    <div class="controls" aria-label="æ­Œè©å­—é«”å¤§å°èª¿æ•´">
      <label>å­—é«”å¤§å°ï¼š</label>
      <button onclick="setFontSize('small')">å°</button>
      <button onclick="setFontSize('medium')">ä¸­</button>
      <button onclick="setFontSize('large')">å¤§</button>
      <button onclick="setFontSize('xlarge')">ç‰¹å¤§</button>
    </div>
    <div class="controls languageButtons" aria-label="åˆ‡æ›æ­Œè©èªè¨€">
      <label>èªè¨€åˆ‡æ›ï¼š</label>
      <button onclick="setLyricsLanguage('lyrics_ja')">æ—¥æ–‡</button>
      <button onclick="setLyricsLanguage('lyrics_romaji')">ç¾…é¦¬æ‹¼éŸ³</button>
      <button onclick="setLyricsLanguage('lyrics_zh')">ä¸­æ–‡</button>
    </div>
    <h2 id="songTitle"></h2>
    <pre id="fullLyrics"></pre>
    <button onclick="goBack()">è¿”å›</button>
  </div>

  <script>
    // å°‡æ­Œè©è³‡æ–™ç›´æ¥å…§åµŒ
    const lyricsData = [
      {
        "title": "ã‚‚ã—ã‚‚ã‚‚ã†ä¸€åº¦æ‹ã‚’ã™ã‚‹ã®ãªã‚‰",
        "artist": "Ai Higuchi",
        "lyrics_ja": [
          "ã©ã£ã¡ã§ã‚‚ã„ã„ãªã‚“ã¦",
          "å¼·ãŒã‚Šã ã‚ˆ",
          "ã»ã‚“ã¨ã®æ°—æŒã¡",
          "ã‚ã‹ã‚‹ã§ã—ã‚‡",
          "æ›–æ˜§ã«ã—ã¦ããŸã®ã¯",
          "ä¸¡æˆæ•—ã ã‚ˆ",
          "è¬ã‚‰ãªã„ã—",
          "è¬ã‚‰ãªã„ã§",
          "é•·ãé•·ãåŒã˜ã‚‚ã®ã‚’",
          "å¸ã£ã¦åã„ã¦",
          "ãã‚Šã‚ƒä¼¼ã¦ãã¡ã‚ƒã†ã­",
          "æœ€å¾Œã®æ‹ã«ã•ã›ã¦",
          "ã„ã¤ã‚‚ãã°ã«ã„ã¦",
          "ã¤ã¾ã‚‰ãªã„ãã ã‚‰ãªã„",
          "æ—¥ã€…ã‚’æ„›ã—ã¦",
          "ã‚‚ã—ã‚‚ã‚‚ã†ä¸€åº¦",
          "æ‹ã‚’ã™ã‚‹ã®ãªã‚‰",
          "ã‚ãªãŸã¨å‡ºä¼šã£ã¦",
          "åŒã˜é“ã‚’æ­©ããŸã„",
          "ãƒãƒƒãƒ”ãƒ¼ã‚¨ãƒ³ãƒ‰ã®å‘ã“ã†å´ã¸"
        ],
        "lyrics_romaji": [
          "Docchi demo ii nante",
          "Tsuyogari da yo",
          "Honto no kimochi",
          "Wakaru desho",
          "Aimai ni shite kita no wa",
          "Ryouseibai da yo",
          "Ayamaranai shi",
          "Ayamaranai de",
          "Nagaku nagaku onaji mono wo",
          "Sutte haite",
          "Sorya nite kichau ne",
          "Saigo no koi ni sasete",
          "Itsumo soba ni ite",
          "Tsumaranai kudaranai",
          "Hibi wo aishite",
          "Moshimo mou ichido",
          "Koi wo suru no nara",
          "Anata to deatte",
          "Onaji michi wo arukitai",
          "Happii endo no mukougawa e"
        ],
        "lyrics_zh": [
          "é€™æ¨£ä¹Ÿæ²’é—œä¿‚å•¦",
          "é€å¼·è€Œå·²",
          "çœŸæ­£çš„å¿ƒæƒ…",
          "ä½ çŸ¥é“çš„å§",
          "ä¸€ç›´å«ç³Šå…¶è¾­",
          "é›™æ–¹éƒ½æœ‰éŒ¯",
          "ä¸é“æ­‰",
          "è«‹ä¸è¦é“æ­‰",
          "é•·ä¹…åœ°å‘¼å¸è‘—ç›¸åŒçš„æ±è¥¿",
          "å¸æ°£åæ°£",
          "ç•¶ç„¶æœƒè®Šå¾—ç›¸ä¼¼",
          "è®“é€™æˆç‚ºæœ€å¾Œçš„æˆ€æ„›",
          "ç¸½æ˜¯å¾…åœ¨èº«æ—",
          "ç„¡èŠåˆç„¡æ„ç¾©",
          "çæƒœæ¯ä¸€å¤©",
          "å¦‚æœèƒ½å†ä¸€æ¬¡",
          "æˆ€æ„›çš„è©±",
          "æƒ³è¦é‡è¦‹ä½ ",
          "æƒ³èµ°åŒä¸€æ¢è·¯",
          "å¾€å¹¸ç¦çµå±€çš„å¦ä¸€é‚Š"
        ]
      },
      {
        "title": "ãƒšã‚¢ãƒªãƒ³ã‚°",
        "artist": "éŸ³ç”°é›…å‰‡",
        "lyrics_ja": [
          "ä»Šæ—¥ã¯å›ã¨å‡ºä¼šã£ã¦ã‹ã‚‰",
          "3ã¨4ãƒ¶æœˆãŒçµŒã£ã¦",
          "å¤‰ã‚ã‚‰ãšæ‰‹ç´™ãŒå±Šãã®ã¯",
          "æ°¸é ï¼ˆã¨ã‚ï¼‰ã«ç¶šï¼ˆã¤ã¥ï¼‰ã„ã¦ãã ã‚ã†ã­",
          "ãƒšã‚¢ãƒªãƒ³ã‚°ç‰‡æ‰‹åŒå£«ã¤ã‘ã¦",
          "æ‰‹ç¹‹ã„ã§å‚é“ç™»ã£ã¦",
          "ä¼‘æ—¥ã”ã‚ã”ã‚ã—ãªãŒã‚‰ã‚‚",
          "ä½•æ°—ãªã„æ—¥ã€…ã‚’éã”ã—ã¦è¡Œãã‚“ã ",
          "å¥½ãã•",
          "ç”Ÿã¾ã‚Œå¤‰ã‚ã£ã¦ã‚‚",
          "ãã£ã¨å›ã®å…ƒã¸ã¨",
          "è¿ãˆã«è¡Œãã ã‚ã†",
          "ä¸–ç•Œä¸­ã«ã“ã‚“ãªç´ æ•µãªäººã¯è¦‹å½“ãŸã‚‰ãªã„ãªã",
          "ã‚«ãƒ¡ãƒ©ã§ãƒ¯ãƒ³ã‚·ãƒ§ãƒƒãƒˆãƒ„ãƒ¼ã‚·ãƒ§ãƒƒãƒˆãªã‚“ã¦",
          "æ„›ã—ãã¦ãƒ‹ãƒ¤ã‘ã¦å›°ã£ã¡ã‚ƒã†ãª",
          "å›ã®ç¬‘é¡”ã‚’ãšã£ã¨çœºã‚ã¦ãŸã‚‰",
          "æ¥ãšã‹ã—ã„ãª",
          "ç›®ã¨ç›®åˆã‚ã›ã¦ã»ã‚‰ã¾ãŸ",
          "å›ã«æ‹ã—ã¦ã‚‹",
          "ãƒã‚¤ãƒã‚¤ã™ã‚‹æ™‚ã¯å¿…ãš",
          "å¤§ããæ‰‹ã‚’æŒ¯ã‚Šåˆã†åƒ•ã‚‰",
          "ä¸æ„ã«æŠ±ãã¤ã„ã¦ãã‚‹å›",
          "æº¢ã‚Œã‚‹å¹¸ã›ã®æ¯æ—¥",
          "ãã£ã¨ã“ã®å…ˆä½•å¹´ã‚‚",
          "å…±ã«æ­©ã‚“ã§ãã ã‚ã†ã­",
          "ã ã‹ã‚‰ã“ãã®ä¸€æ­©ãšã¤ã‚’",
          "å¤§åˆ‡ã«ã—ã¦ã„ã“ã†ã­",
          "å¤§å¥½ãã•",
          "ã“ã‚Œä»¥ä¸Šã®å¹¸ã›ã‚’",
          "è¨€è‘‰ã«ä¹—ã›ã¦",
          "ä¼ãˆã¦è¡Œãã‹ã‚‰",
          "Only girl",
          "å›ä»¥ä¸Šã®äººãªã‚“ã¦ã©ã“ã«ã‚‚ã„ãªã„ã‚ˆ",
          "ä¾‹ãˆå–§å˜©ã—ãŸã£ã¦",
          "é›¢ã‚Œã‹ã‘ãŸã£ã¦",
          "é‹å‘½ã®äººã«å¤‰ã‚ã‚Šã¯ãªã„ã‹ã‚‰",
          "ã€Œã“ã®ç´ æ•µãªäººãŒåƒ•ã®å¤§åˆ‡ãªæ‹äººã ã€ã¨",
          "ä¸–ç•Œä¸­ã«è‡ªæ…¢ã—ã¦",
          "æ—¥ã€…ã«èŠ±ã‚’å’²ã‹ã™",
          "100å¹´å¾Œã‚‚",
          "å›ã‚’æ„›ã—ã¦ã„ã‚‹è‡ªä¿¡ã—ã‹ãªã„ãª",
          "ã­ã‡",
          "ã„ã¤ã‚‚é€šã‚Š",
          "ä½•æ°—ãªã„ä¼šè©±ã ã£ã¦",
          "ä¸€ç”Ÿã®å®ç‰©",
          "ã‚„ãŒã¦å¤§äººã«ãªã£ã¦",
          "æ‰‹ãŒå±Šã‹ãªããªã£ã¦ã‚‚",
          "æ°—ä»˜ã‘ã°éš£ã«ã¯",
          "ã‚ã®æ—¥ã®åƒ•ã‚‰ãŒå±…ã‚‹ã ã‚ã†",
          "ã„ã¤ã‹æœªæ¥ã§ä¼šãˆãŸã‚‰",
          "å›ã«ä¼ãˆã‚‹ã‚ˆ",
          "ã¾ãŸå¥½ãã£ã¦",
          "å¼·ãè¨€ã†ã‹ã‚‰ã­"
        ],
        "lyrics_romaji": [
          "Kyou wa kimi to deatte kara",
          "San to yon kagetsu ga tatte",
          "Kawarazu tegami ga todoku no wa",
          "Towa ni tsuzuite darou ne",
          "Pea ringu katate doushi tsukete",
          "Te tsunaide sakamichi nobotte",
          "Kyuujitsu gorogoro shinagara mo",
          "Nanigenai hibi wo sugoshite ikun da",
          "Suki sa",
          "Umarekawatte mo",
          "Kitto kimi no moto e to",
          "Mukae ni iku darou",
          "Sekaijuu ni konna suteki na hito wa mitomaranai naa",
          "Kamera de wanshotto tsuushotto nante",
          "Itoshikute niyakete komacchau na",
          "Kimi no egao wo zutto nagametetara",
          "Hazukashii na",
          "Me to me awasete hora mata",
          "Kimi ni koishiteru",
          "Baibai suru toki wa kanarazu",
          "Ookiku te wo furiau bokura",
          "Fui ni dakitsuite kuru kimi",
          "Afureru shiawase no mainichi",
          "Kitto kono saki nannen mo",
          "Tomo ni ayunde darou ne",
          "Dakara koso no ippo zutsu wo",
          "Taisetsu ni shite ikou ne",
          "Daisuki sa",
          "Kore ijou no shiawase wo",
          "Kotoba ni nosete",
          "Tsutaete iku kara",
          "Only girl",
          "Kimi ijou no hito nante doko ni mo inai yo",
          "Tatoe kenka shitatte",
          "Hanare kaketatte",
          "Unmei no hito ni kawari wa nai kara",
          "Kono suteki na hito ga boku no taisetsu na koibito da to",
          "Sekaijuu ni jiman shite",
          "Hibi ni hana wo sakasu",
          "Hyakunen go mo",
          "Kimi wo aishite iru jishin shika nai na",
          "Nee",
          "Itsumo doori",
          "Nanigenai kaiwa datte",
          "Isshou no takaramono",
          "Yagate otona ni natte",
          "Te ga todokanaku natte mo",
          "Kidzukeba tonari ni wa",
          "Ano hi no bokura ga iru darou",
          "Itsuka mirai de aetara",
          "Kimi ni tsutaeru yo",
          "Mata suki tte",
          "Tsuyoku iu kara ne"
        ],
        "lyrics_zh": [
          "ä»Šå¤©æ˜¯é‡è¦‹ä½ çš„æ—¥å­",
          "ä¸‰å››å€‹æœˆéå»äº†",
          "ä¸è®Šçš„æ˜¯æ”¶åˆ°ä½ çš„ä¿¡",
          "é€™å¤§æ¦‚æœƒæ°¸é æŒçºŒä¸‹å»å§",
          "æˆ´è‘—ä¸€æ¨£çš„å°æˆ’",
          "æ‰‹ç‰½æ‰‹èµ°ä¸Šæ–œå¡",
          "å‡æ—¥è£¡é›–ç„¶æ‡¶æ•£",
          "ä¹Ÿåº¦éå¹³å‡¡çš„æ—¥å­",
          "å–œæ­¡ä½ ",
          "å³ä½¿é‡ç”Ÿ",
          "ä¸€å®šæœƒå»æ‰¾ä½ ",
          "è¿æ¥ä½ ",
          "ä¸–ç•Œä¸Šæ‰¾ä¸åˆ°é€™éº¼æ£’çš„äºº",
          "æ‹ç…§æ™‚çš„ä¸€å¼µä¸€å¼µ",
          "è®“äººå¿ä¸ä½å¾®ç¬‘",
          "çœ‹è‘—ä½ çš„ç¬‘å®¹",
          "å®³ç¾äº†",
          "å†ä¸€æ¬¡çœ¼ç¥äº¤æœƒ",
          "åˆæ„›ä¸Šä½ ",
          "åˆ†åˆ¥æ™‚ä¸€å®šæœƒ",
          "æ®æ‰‹å†è¦‹",
          "ä½ çªç„¶æ“æŠ±æˆ‘",
          "æ¯å¤©å……æ»¿å¹¸ç¦",
          "é€™ä¹‹å¾Œå¥½å¤šå¹´",
          "æˆ‘å€‘æœƒä¸€ç›´ä¸€èµ·èµ°ä¸‹å»",
          "ä¸€æ­¥æ­¥å°å¿ƒçæƒœ",
          "æˆ‘çœŸçš„å¾ˆå–œæ­¡ä½ ",
          "æœƒæŠŠé€™ä»½å¹¸ç¦",
          "ç”¨è¨€èªå‚³é”çµ¦ä½ ",
          "å”¯ä¸€çš„å¥³å­©",
          "æ²’æœ‰äººæ¯”ä½ æ›´é‡è¦",
          "å°±ç®—åµæ¶",
          "å°±ç®—å¿«è¦åˆ†é–‹",
          "ä¹Ÿä¸æœƒæ”¹è®Šæˆ‘å€‘æ˜¯å‘½ä¸­è¨»å®š",
          "æˆ‘æœƒå‘å…¨ä¸–ç•Œç‚«è€€èªª",
          "ã€Œé€™éº¼æ£’çš„äººæ˜¯æˆ‘çæ„›çš„æˆ€äººã€",
          "è®“æˆ‘å€‘åœ¨æ—¥å­ä¸­ç¶»æ”¾èŠ±æœµ",
          "ä¸€ç™¾å¹´å¾Œ",
          "æˆ‘åªæœƒè¶Šä¾†è¶Šæ„›ä½ ",
          "å˜¿",
          "å°±åƒå¾€å¸¸ä¸€æ¨£",
          "ç„¡æ„é–“çš„å°è©±",
          "æ˜¯ä¸€ç”Ÿçš„å¯¶è—",
          "å³ä½¿æ¼¸æ¼¸é•·å¤§",
          "å³ä½¿æ‰‹å†ä¹Ÿç¢°ä¸åˆ°",
          "å›é ­çœ‹",
          "æˆ‘å€‘ä¾ç„¶åœ¨ä¸€èµ·",
          "å¦‚æœæœ‰ä¸€å¤©åœ¨æœªä¾†ç›¸é‡",
          "æˆ‘æœƒå‘Šè¨´ä½ ",
          "æˆ‘é‚„æ˜¯å¾ˆæ„›ä½ ",
          "æˆ‘æœƒå¾ˆå …å®šåœ°èªª"
        ]
      },
      {
        "title": "ã‚ªãƒ¬ãƒ³ã‚¸ã®ã¾ã¾ã§",
        "artist": "Liella!",
        "lyrics_ja": [
          "(å››å­£) ä»Šã®æ°—æŒã¡ã‚’ä¼ãˆãŸã„",
          "(ããªå­) æ‰‹ã®ã²ã‚‰ã«æ›¸ã„ãŸ",
          "(ãƒ¡ã‚¤) å°ã•ãªæ–‡å­—ã§",
          "(å¤ç¾) ã€Œã ã„ã™ãã€ã£ã¦",
          "(ãƒãƒ«ã‚¬ãƒ¬ãƒ¼ãƒ†) ãã™ãã£ãŸãã†ã«",
          "(å†¬æ¯¬) ç¬‘ã£ãŸé¡”ã«",
          "(ãƒãƒ«ã‚¬ãƒ¬ãƒ¼ãƒ†, å†¬æ¯¬) ãµã–ã‘ã¦æã„ãŸ",
          "(å¯å¯) å¤ã®çµ‚ã‚ã‚Šã‚’æ„Ÿã˜ã‚‹",
          "(å…¨å“¡) ã‚»ãƒŸã®å£°ã«",
          "(æ‹) ç©ºã¯ç§‹ã®ç©ºæ°—",
          "(å…¨å“¡) ã§ã‚‚å¿ƒã¯ã¾ã ã¾ã ",
          "(ããªå­) æš‘ãã¦",
          "(å…¨å“¡) ã„ã¤ã§ã‚‚",
          "(å…¨å“¡) ç¬‘ã£ã¦è¸Šã£ã¦ã„ãŸã„",
          "(æ‹) æ™‚é–“ãŒè¶³ã‚Šãªãã¦",
          "(å…¨å“¡) ã‚¤ã‚¿ã‚ºãƒ©ãªã‚µãƒ³ã‚°ãƒ©ã‚¹",
          "(ããªå­) æœºã®ä¸Šç‰‡ä»˜ã‘ã¦",
          "(ï¼“æœŸç”Ÿ) æ™®é€šã®æ¯æ—¥ãŒ",
          "(ï¼’æœŸç”Ÿ) ç‰¹åˆ¥ã«å¤‰ã‚ã£ã¦ã„ã",
          "(ï¼‘æœŸç”Ÿ) ã‚ãªãŸã¨éã”ã™æ—¥ã€…ã¯",
          "(å…¨å“¡) ã“ã‚Œã‹ã‚‰ã‚‚ç¶šã„ã¦ã",
          "(ãŒã‚“ã°ã‚‹ã‚ˆï¼ç¥ˆã£ã¦ã‚‹ã‚ˆï¼)"
        ],
        "lyrics_romaji": [
          "(Shiki) Ima no kimochi wo tsutaetai",
          "(Kinako) Tenohira ni kaita",
          "(Mei) Chiisana moji de",
          "(Natsumi) \"Daisuki\" tte",
          "(Margarete) Kusuguttasou ni",
          "(Fuyuri) Waratta kao ni",
          "(Margarete, Fuyuri) Fuzakete kaita",
          "(Koko) Natsu no owari wo kanjiru",
          "(Zenin) Semi no koe ni",
          "(Koi) Sora wa aki no kuuki",
          "(Zenin) Demo kokoro wa madamada",
          "(Kinako) Atsukute",
          "(Zenin) Itsumo",
          "(Zenin) Waratte odottetai",
          "(Koi) Jikan ga tarinakute",
          "(Zenin) Itazura na sangurasu",
          "(Kinako) Tsukue no ue katazukete",
          "(3kisei) Futsuu no mainichi ga",
          "(2kisei) Tokubetsu ni kawatte iku",
          "(1kisei) Anata to sugosu hibi wa",
          "(Zenin) Korekara mo tsuzuiteku",
          "(Ganbaru yo! Inotteru yo!)"
        ],
        "lyrics_zh": [
          "(å››å­£) æƒ³æŠŠç¾åœ¨çš„å¿ƒæƒ…ç•™ä¸‹ä¾†ï¼Œå°±å¯«åœ¨ä½ çš„æ‰‹ä¸Š",
          "(ããªå­) ç”¨ç´°ç´°çš„ç­†ï¼Œå¯«ä¸‹ã€Œæˆ‘å¥½å–œæ­¡ä½ å–”ã€",
          "(ãƒ¡ã‚¤) ä½ ä¸€è‡‰ç™¢ç™¢çš„æ¨£å­ï¼Œè®“æˆ‘è¦ºå¾—æœ‰é»å¥½ç¬‘",
          "(å¤ç¾) ç¹å‘€ç¹åœ°ï¼Œåœ¨ä¸Šé¢åˆåŠ äº†äº›å¡—é´‰",
          "(ãƒãƒ«ã‚¬ãƒ¬ãƒ¼ãƒ†) èŸ¬é³´è²éŸ¿èµ·ï¼Œå¤å¤©å°±å¿«è¦çµæŸäº†",
          "(å†¬æ¯¬) ç©ºæ°£é›–ç„¶æ¶¼äº†ï¼Œä½†å¿ƒè£¡å•Šâ€”â€”",
          "(ãƒãƒ«ã‚¬ãƒ¬ãƒ¼ãƒ†, å†¬æ¯¬) é‚„æ˜¯é€™æ¨£æ»¾ç‡™ç‡™çš„",
          "(å¯å¯) ä¸ç®¡ä»€éº¼æ™‚å€™",
          "(å…¨å“¡) éƒ½æƒ³å’Œä½ ä¸€ç›´ç¬‘è‘—ï¼Œä¸€ç›´è·³èˆè‘—",
          "(æ‹) æ™‚é–“æ€éº¼éƒ½ä¸å¤ ç”¨",
          "(å…¨å“¡) æˆ´ä¸Šæƒ¡ä½œåŠ‡çš„å¢¨é¡ï¼Œ",
          "(ããªå­) æ”¶æ‹¾æ›¸æ¡Œæº–å‚™å›å®¶ï¼",
          "(ï¼“æœŸç”Ÿ) æ²’æœ‰ä»€éº¼ç‰¹åˆ¥çš„æ—¥å­ï¼Œå’Œä½ åœ¨ä¸€èµ·å°±è®Šå¾—ç‰¹åˆ¥äº†",
          "(ï¼’æœŸç”Ÿ) æˆ‘å€‘åº¦éçš„æ™‚é–“è®Šå¾—å¾ˆé‡è¦ï¼Œå°å§ï¼Ÿ",
          "(ï¼‘æœŸç”Ÿ) å’Œä½ ä¸€èµ·çš„æ—¥å­æœƒä¸€ç›´å»¶çºŒä¸‹å»",
          "(å…¨å“¡) æ˜å¤©ã€å¾Œå¤©ï¼Œé‚„æœ‰æœªä¾†ï¼Œ",
          "(å…¨å“¡) æˆ‘å€‘çš„æ—¥å­æ°¸é ä¸æœƒçµæŸ",
          "(ç¹¼çºŒåŠªåŠ›ï¼çœŸå¿ƒç¥ˆé¡˜è‘—ï¼)"
        ]
      }
    ];

    const lyricsList = document.getElementById("lyricsList");
    const lyricsDetails = document.getElementById("lyricsDetails");
    const pageHeader = document.getElementById("pageHeader");
    const songTitleElem = document.getElementById("songTitle");
    const fullLyricsElem = document.getElementById("fullLyrics");
    const themeToggleBtn = document.getElementById("themeToggle");
    let currentSong = null;
    let currentLang = 'lyrics_zh';

    // åˆå§‹åˆ—å‡ºæ‰€æœ‰æ­Œè©æ¨™é¡Œå’Œæ­Œæ‰‹
    function listSongs() {
      lyricsList.innerHTML = "";
      lyricsData.forEach((song, index) => {
        const li = document.createElement("li");
        li.tabIndex = 0;
        li.textContent = `${song.title} - ${song.artist}`;
        li.onclick = () => selectSong(index);
        li.onkeypress = (e) => { if(e.key === 'Enter') selectSong(index); };
        lyricsList.appendChild(li);
      });
    }

    // é¡¯ç¤ºæ­Œè©
    function selectSong(index) {
      currentSong = lyricsData[index];
      pageHeader.style.display = "none";
      lyricsList.style.display = "none";
      lyricsDetails.style.display = "block";
      songTitleElem.textContent = `${currentSong.title} - ${currentSong.artist}`;
      setLyricsLanguage(currentLang);
      // æ›´æ–° URL hash
      history.pushState({ index }, "", `#${encodeURIComponent(currentSong.title)}`);
    }

    // è¿”å›ä¸»é åˆ—è¡¨
    function goBack() {
      currentSong = null;
      lyricsDetails.style.display = "none";
      pageHeader.style.display = "block";
      lyricsList.style.display = "block";
      // æ¸…é™¤ hash
      history.pushState({}, "", window.location.pathname);
    }

    // åˆ‡æ›æ­Œè©èªè¨€
    function setLyricsLanguage(lang) {
      currentLang = lang;
      if (!currentSong) return;
      const lines = currentSong[lang] || [];
      fullLyricsElem.textContent = lines.join("\n");
    }

    // å­—é«”å¤§å°è¨­å®š
    function setFontSize(size) {
      let fontSize;
      switch(size) {
        case 'small': fontSize = '14px'; break;
        case 'medium': fontSize = '16px'; break;
        case 'large': fontSize = '18px'; break;
        case 'xlarge': fontSize = '20px'; break;
        default: fontSize = '16px';
      }
      document.documentElement.style.setProperty('--lyrics-font-size', fontSize);
    }

    // æœå°‹åŠŸèƒ½
    function searchLyrics() {
      const query = document.getElementById("search").value.trim().toLowerCase();
      if(!query) {
        listSongs();
        return;
      }
      const filtered = lyricsData.filter(song => {
        return song.title.toLowerCase().includes(query) ||
               song.artist.toLowerCase().includes(query) ||
               (song.lyrics_zh.join(' ').toLowerCase().includes(query)) ||
               (song.lyrics_ja.join(' ').toLowerCase().includes(query)) ||
               (song.lyrics_romaji.join(' ').toLowerCase().includes(query));
      });
      lyricsList.innerHTML = "";
      if(filtered.length === 0) {
        lyricsList.textContent = "æ‰¾ä¸åˆ°ç›¸é—œæ­Œè©";
        return;
      }
      filtered.forEach((song, index) => {
        const li = document.createElement("li");
        li.tabIndex = 0;
        li.textContent = `${song.title} - ${song.artist}`;
        li.onclick = () => selectSong(lyricsData.indexOf(song));
        li.onkeypress = (e) => { if(e.key === 'Enter') selectSong(lyricsData.indexOf(song)); };
        lyricsList.appendChild(li);
      });
    }

    // debounce é˜²æŠ–é¿å…è¼¸å…¥æ™‚ä¸€ç›´è§¸ç™¼æœå°‹
    let debounceTimeout;
    function debounceSearch() {
      clearTimeout(debounceTimeout);
      debounceTimeout = setTimeout(searchLyrics, 300);
    }

    // æ·±è‰²æ¨¡å¼åˆ‡æ›
    function toggleTheme() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      if(currentTheme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'light');
        themeToggleBtn.textContent = "ğŸŒ™";
      } else {
        document.documentElement.setAttribute('data-theme', 'dark');
        themeToggleBtn.textContent = "â˜€ï¸";
      }
    }

    themeToggleBtn.addEventListener('click', toggleTheme);

    // é é¢è¼‰å…¥æ™‚æª¢æŸ¥ hashï¼Œç›´æ¥å®šä½æ­Œè©
    function checkHash() {
      const hash = decodeURIComponent(window.location.hash.substring(1));
      if(!hash) return;
      const songIndex = lyricsData.findIndex(song => song.title === hash);
      if(songIndex !== -1) {
        selectSong(songIndex);
      }
    }

    // ç€è¦½å™¨å‰é€²å¾Œé€€ï¼Œç¶­æŒç‹€æ…‹
    window.addEventListener("popstate", (event) => {
      if(event.state && event.state.index !== undefined) {
        selectSong(event.state.index);
      } else {
        goBack();
      }
    });

    // åˆå§‹åŒ–
    listSongs();
    checkHash();
    // è¨­å®šé è¨­ä¸»é¡Œ
    document.documentElement.setAttribute('data-theme', 'light');
    themeToggleBtn.textContent = "ğŸŒ™";

  </script>
</body>
</html>
